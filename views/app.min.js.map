{"version":3,"sources":["app.min.js"],"names":["config","$routeProvider","$locationProvider","when","templateUrl","controller","controllerAs","otherwise","redirectTo","html5Mode","run","$rootScope","$location","authentication","$on","event","nextRoute","currentRoute","path","isLoggedIn","angular","module","homeCtrl","console","log","profileCtrl","meanData","vm","this","user","getProfile","success","data","error","e","$inject","loginCtrl","credentials","email","password","onSubmit","login","err","alert","then","registerCtrl","name","register","$http","$window","saveToken","token","localStorage","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","post","logout","removeItem","service","get","headers","Authorization","navigationCtrl","navigation","restrict","directive"],"mappings":"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","file":"app.min.js","sourcesContent":["!function(){function n(n,e){n.when(\"/\",{templateUrl:\"home/home.view.html\",controller:\"homeCtrl\",controllerAs:\"vm\"}).when(\"/register\",{templateUrl:\"/auth/register/register.view.html\",controller:\"registerCtrl\",controllerAs:\"vm\"}).when(\"/login\",{templateUrl:\"/auth/login/login.view.html\",controller:\"loginCtrl\",controllerAs:\"vm\"}).when(\"/profile\",{templateUrl:\"/profile/profile.view.html\",controller:\"profileCtrl\",controllerAs:\"vm\"}).otherwise({redirectTo:\"/\"}),e.html5Mode(!0)}function e(n,e,t){n.$on(\"$routeChangeStart\",function(n,o,r){\"/profile\"!==e.path()||t.isLoggedIn()||e.path(\"/\")})}angular.module(\"meanApp\",[\"ngRoute\"]),angular.module(\"meanApp\").config([\"$routeProvider\",\"$locationProvider\",n]).run([\"$rootScope\",\"$location\",\"authentication\",e])}(),function(){function n(){console.log(\"Home controller is running\")}angular.module(\"meanApp\").controller(\"homeCtrl\",n)}(),function(){function n(n,e){var t=this;t.user={},e.getProfile().success(function(n){t.user=n}).error(function(n){console.log(n)})}angular.module(\"meanApp\").controller(\"profileCtrl\",n),n.$inject=[\"$location\",\"meanData\"]}(),function(){function n(n,e){var t=this;t.credentials={email:\"\",password:\"\"},t.onSubmit=function(){e.login(t.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"loginCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,e){var t=this;t.credentials={name:\"\",email:\"\",password:\"\"},t.onSubmit=function(){console.log(\"Submitting registration\"),e.register(t.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"registerCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,e){var t=function(n){e.localStorage[\"mean-token\"]=n},o=function(){return e.localStorage[\"mean-token\"]},r=function(){var n,t=o();return t?(n=t.split(\".\")[1],n=e.atob(n),n=JSON.parse(n),n.exp>Date.now()/1e3):!1},i=function(){if(r()){var n=o(),t=n.split(\".\")[1];return t=e.atob(t),t=JSON.parse(t),{email:t.email,name:t.name}}};return register=function(e){return n.post(\"/api/register\",e).success(function(n){t(n.token)})},login=function(e){return n.post(\"/api/login\",e).success(function(n){t(n.token)})},logout=function(){e.localStorage.removeItem(\"mean-token\")},{currentUser:i,saveToken:t,getToken:o,isLoggedIn:r,register:register,login:login,logout:logout}}angular.module(\"meanApp\").service(\"authentication\",n),n.$inject=[\"$http\",\"$window\"]}(),function(){function n(n,e){var t=function(){return n.get(\"/api/profile\",{headers:{Authorization:\"Bearer \"+e.getToken()}})};return{getProfile:t}}angular.module(\"meanApp\").service(\"meanData\",n),n.$inject=[\"$http\",\"authentication\"]}(),function(){function n(n,e){var t=this;t.isLoggedIn=e.isLoggedIn(),t.currentUser=e.currentUser()}angular.module(\"meanApp\").controller(\"navigationCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(){return{restrict:\"EA\",templateUrl:\"/common/directives/navigation/navigation.template.html\",controller:\"navigationCtrl as navvm\"}}angular.module(\"meanApp\").directive(\"navigation\",n)}();"],"sourceRoot":"/source/"}